# Paytapper — Project State Snapshot
## Date: 2025-12-18

This document captures the factual state of the Paytapper project
at the moment of completing v1 (pre-launch).

Purpose:
- establish a clear baseline
- prevent circular discussions
- serve as a reference point for future phases

---

## 1. Overall Status

Paytapper is currently in a **working MVP state**, suitable for real users.

Current focus:
- NOT adding new features
- NOT refactoring for purity
- stabilization and launch readiness

---

## 2. Authentication & Sessions

### Implemented
- User registration via email + password
- Secure password hashing (bcrypt)
- Cookie-based session handling
- Explicit User → Client relationship
- Automatic redirect to dashboard after registration
- Dashboard access guarded by session.clientId

### Intentional decisions
- No OAuth (Google, etc.) in v1
- No email verification in v1
- Login UI exists but is minimal

These are intentional MVP choices.

---

## 2.1 Login (Intentional Decision)

The login flow is deliberately postponed to v1.1.

Current v1 behavior:
- User registers once
- Session is created immediately
- User remains logged in via cookie
- Direct dashboard access is the primary usage pattern

This is an intentional product decision, not a missing feature.

---

## 3. Dashboard (/client/[clientId]/dashboard)

### Status
The dashboard is **accepted** and **sufficient for v1**.

### Contents
- Client information (ID, name, email)
- Stripe connection status and onboarding CTA
- Payments summary
- CSV export
- Stripe mode badge (TEST / LIVE)
- Logout button (UI only)

### Notes
- The dashboard does NOT require further changes at this stage
- Any improvements belong to UX polish or v1.1

---

## 4. Stripe & Payments

### Implemented
- Stripe TEST and LIVE modes
- Stripe Connect onboarding
- Payments via Stripe Checkout
- Webhook processing
- Payment persistence by canonical key (paymentIntentId)
- CSV export

### Status
The Stripe payment flow is considered **stable and production-ready**.

---

## 5. Technical Notes

- Stack: Next.js 16, App Router, Turbopack
- A Turbopack dev-state edge case was encountered and resolved
- Resolution required a full reset of .next and cache
- Current development environment is stable

These issues were tooling-related and not application logic defects.

---

## 6. Explicit Non-Goals (for now)

The following are intentionally postponed:
- Dashboard redesign
- Architectural changes
- New domain entities
- OAuth providers
- Premature optimizations

---

## 7. Possible Next Directions

(To be selected explicitly)

A. Launch preparation  
B. UX polish (copy, small refinements)  
C. Documentation & onboarding  
D. v1.1 planning  

---

## 8. Summary

Paytapper v1 is:
- functionally complete
- architecturally consistent
- suitable for real users

This version is considered the **baseline v1**.

Any changes beyond this point must:
- have a clear purpose
- be explicitly agreed upon
- preserve the established baseline
